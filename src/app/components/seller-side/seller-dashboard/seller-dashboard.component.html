<div class="ui centered grid quickoptions">
  <ng-container *ngIf="sellerDashOptions else quickOptionsPlaceholder">
    <div class="ui three column stackable grid">
      <div class="column">
        <div class="ui raised segment">
          <div class="content">
            <div class="header">
              <h3 class="ui centered header">
                Meals Completed
              </h3>
            </div>
            <div class="ui divider"></div>
            <div class="meta">
              <span>
                <h1 class="ui centered header">
                  {{sellerDashOptions.meals}}
                </h1>
              </span>
            </div>
          </div>
        </div>
      </div>
      <div class="column">
        <div class="ui raised segment">
          <div class="content">
            <div class="header">
              <h3 class="ui centered header">
                Orders Completed
              </h3>
            </div>
            <div class="ui divider"></div>
            <div class="meta">
              <span>
                <h1 class="ui centered header">
                  {{sellerDashOptions.orders}}
                </h1>
              </span>
            </div>
          </div>
        </div>
      </div>
      <div class="column">
        <div class="ui raised segment">
          <div class="content">
            <div class="header">
              <h3 class="ui centered header">
                Revenue Generated
              </h3>
            </div>
            <div class="ui divider"></div>
            <div class="meta">
              <span>
                <h1 class="ui centered header">
                  {{sellerDashOptions.revenue}}
                </h1>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-container>

</div>
<div class="ui stackable grid">
  <div class="ten wide stretched  column">
    <div class="ui very relaxed raised segment">
      <h2 class="ui center aligned icon  header">
        <i class="circular clipboard list icon"></i> Requested Orders
      </h2>
      <div class="ui hidden divider"></div>
      <ng-container *ngIf="requestedOrdersCount() else requestorderspl;">
        <div class="ui grid rorders" *ngFor="let order of sellerRequestedOrders;">
          <div class="row">
            <a class="ui black label">
              {{order.total | currency:'INR'}}
            </a>
            <a class="ui orange label">
              Waiting
            </a>
            <a class="ui teal label" *ngIf="getRemainingItems(order.id) > 0">
              Contains {{getRemainingItems(order.id)}} More Items.
            </a>
          </div>
          <div class="orderid four wide column">
            <h1 class="ui header">#{{order.id}}</h1>
          </div>
          <div class="eight wide column">
            <table class="ui single line table">
              <thead>
                <tr>
                  <th>Item Name</th>
                  <th>Quantity</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of order.items;let i = index;">
                  <td>
                    <h4 class="ui image header">
                      {{item.meal_title}}
                    </h4>
                  </td>
                  <td>
                    {{item.quantity}}
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="four wide column actions">
            <button class="circular positive ui icon button" (click)="updateRequestedOrderStatus(order.id,1)">
              <i class="check icon"></i>
            </button>
            <button class="circular negative ui icon button" (click)="updateRequestedOrderStatus(order.id,6)">
              <i class="close icon"></i>
            </button>
          </div>
          <div class="row">
            <h4 class="ui sub header">
              Delivery To : {{order.address}}
            </h4>
          </div>
          <div class="ui hidden divider"></div>
        </div>
      </ng-container>
    </div>
  </div>
  <div class="five wide stretched column">
    <div class="ui raised segment">
      <h2 class="ui center aligned icon  header">
        <i class="circular tasks icon"></i> Active Orders
      </h2>
      <div class="column" *ngFor="let order of sellerActiveOrders;">
        <div class="orderid centered row">
          <h1 class="ui header">#{{order.id}}</h1>
        </div>
        <div class="ui hidden divider"></div>
        <div class="row">
          <a class="ui black label">
            {{order.total | currency:'INR'}}
          </a>
          <a class="ui label" [ngClass]="{
            'green' : order.status === 1,
            'teal' : order.status === 2,
            'yellow' : order.status === 3
          }">{{getOrderStatus(order.status)}}</a>
        </div>
        <div class="three column row">
          <div class="column"></div>
        </div>
        <div class="ui hidden divider"></div>
        <div class="row">
          <table class="ui single line table">
            <thead>
              <tr>
                <th>Item Name</th>
                <th>Quantity</th>
                <th class="center aligned">
                  <h4 class="ui header"><i class="stopwatch icon"></i></h4>
                </th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of order.items;let i = index;">
                <td>
                  <h4 class="ui image header">
                    {{item.meal_title}}
                  </h4>
                </td>
                <td>
                  {{item.quantity}}
                </td>
                <td>
                  <a class="ui label yellow">120</a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="ui hidden divider"></div>
        <div class="row">
          <h4 class="ui sub header">
            Delivery To:
            {{order.address}}
          </h4>
        </div>
        <div class="ui hidden divider"></div>
        <div class="four column ui grid">
          <div class="center aligned column" *ngFor="let status of orderStatusFilter">
            <button class="circular ui icon button" matTooltip="{{status.value}}" matTooltipPosition="above" [ngClass]="{
            'green' : status.key == 1,
            'teal' : status.key == 2,
            'yellow' : status.key == 3,
            'black' : status.key == 4
          }" (click)="updateRequestedOrderStatus(order.id,status.key);"
          [disabled]="order.status >= status.key || toInt(status.key) - order.status != 1"
          >
          <!-- [disabled]="order.status >= status.key" -->
              <i class="hourglass icon" [ngClass]="{
            'outline' : status.key == 1,
            'start' : status.key == 2,
            'half' : status.key == 3,
            'end' : status.key == 4
            }"></i>
            </button>
          </div>
        </div>
        <div class="ui hidden divider"></div>
      </div>
    </div>
  </div>
</div>
<div class="ui hidden divider">
</div>
<div class="ui hidden divider"></div>
<h2 class="ui center aligned icon header">
  <i class="check circle icon"></i>
  Completed Orders
</h2>
<div class="ui center aligned grid">
  <div class="row status-index">
    <div class="three wide column">
      <a class="ui teal big label">
        <i class="mail icon"></i> Revenue
      </a>
    </div>
    <div class="four wide column">
      <a class="ui orange big label">
        <i class="user icon"></i> Date
      </a>
    </div>
    <div class="four wide column">
      <a class="ui black big label">
        <i class="user icon"></i> Name
      </a>
    </div>
  </div>
</div>
<div class="ui link centered cards orders">
  <ng-container *ngIf="sellerCompletedOrders else completedOrdersPlaceholder">
    <div class="ui card" *ngFor="let order of sellerCompletedOrders;">
      <div class="content">
        <div class="header">Order Id : {{order.id}}</div>
        <h4 class="ui sub header">Address : {{order.address}}</h4>
        <h4 class="ui sub header">Total Revenue : {{order.total}}</h4>
        <h4 class="ui sub header">Status : {{order.status}}</h4>
      </div>
      <div class="content">
        <h3 class="ui sub header">Order Summary</h3>
        <h4 class="ui sub header">Items : </h4>
        <div class="ui very relaxed horizontal list">
          <div class="item">
            <div class="content">
              <div class="header">S No.</div>
            </div>
          </div>
          <div class="item">
            <div class="content">
              <div class="header">Item</div>
            </div>
          </div>
          <div class="item">
            <div class="content">
              <div class="header">Quantity</div>
            </div>
          </div>
        </div>
        <br>
        <div class="row" *ngFor="let item of order.items; let i = index;">
          <div class="ui very relaxed horizontal list">
            <div class="item">
              <div class="content">
                <div class="header">{{i}}</div>
              </div>
            </div>
            <div class="item">
              <img class="ui avatar image" src="{{item.image}}">
            </div>
            <div class="item">
              <div class="content">
                <div class="header">{{item.quantity}}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="extra content">
        <button class="ui positive floated button">Completed</button>
      </div>
    </div>
  </ng-container>
</div>
<!-- While API is fetching data create placeholders-->
<!--
    Placeholder For Quick Dashboard Data
  -->
<ng-template #quickOptionsPlaceholder>
  <div class="ui three column stackable grid">
    <div class="column" *ngFor="let ph of [0,1,2]">
      <div class="ui raised segment">
        <div class="ui placeholder">
          <div class="image header">
            <div class="line"></div>
            <div class="line"></div>
          </div>
          <div class="paragraph">
            <div class="medium line"></div>
            <div class="short line"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>
<!--Placeholder for requested cards empty segment-->
<ng-template #requestorderspl>
 <div class="norequestedOrdersMessage">
   <h2 class="ui centered header">
     No Requested Orders At The Moment.
   </h2>
 </div>
</ng-template>
<!--
      Placeholder For Order Cards
    -->
<ng-template #completedOrdersPlaceholder>
  <div class="ui card plcompletedorders" *ngFor="let pl of [0,1,2]">
    <div class="ph-item">
      <div class="ph-picture"></div>
      <div class="ui divider"></div>
      <div class="ph-picture"></div>
      <div class="ph-col-12">
        <div class="ph-row">
          <div class="ph-col-4 big"></div>
        </div>
      </div>
    </div>
    <div class="extra content">
      <div class="ui disabled primary button">Options</div>
    </div>
  </div>
</ng-template>